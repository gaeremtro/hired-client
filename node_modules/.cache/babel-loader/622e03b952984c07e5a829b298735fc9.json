{"ast":null,"code":"import axios from 'axios';\nimport dispatcher from '../dispatcher/app.dispatcher';\nimport actionTypes from './actionTypes';\nimport URL from './urlConfig'; // export function loadDetails() {\n//     return axios.get('http://localhost:4200/api/detail').then((detail) => {\n//         dispatcher.dispatch({\n//             type: actionTypes.LOAD_DETAIL,\n//             data: detail.data\n//         });\n//     });\n// }\n// eslint-disable-next-line import/prefer-default-export\n\nexport function loadDetails() {\n  const token = global.sessionStorage.getItem('access-token');\n\n  try {\n    axios.get(URL.GET_ENTRIES, {\n      headers: {\n        'access-token': token\n      }\n    }).then(detailsRecives => {\n      console.log(detailsRecives);\n\n      if (detailsRecives.status === 200) {\n        dispatcher.dispatch({\n          type: actionTypes.LOAD_DETAIL,\n          data: detailsRecives.data\n        });\n      } else {\n        dispatcher.dispatch({\n          type: actionTypes.ERROR,\n          data: detailsRecives.data\n        });\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\nexport function loginActions(username, password) {\n  return axios.post(URL.POST_LOGIN, {\n    username,\n    password\n  }).then(detailsRecives => {\n    if (detailsRecives.status === 200) {\n      global.sessionStorage.setItem('access-token', detailsRecives.data.token);\n      dispatcher.dispatch({\n        type: actionTypes.LOGIN,\n        data: detailsRecives.data\n      });\n    } else {\n      console.log(detailsRecives);\n      dispatcher.dispatch({\n        type: actionTypes.ERROR,\n        data: detailsRecives.data\n      });\n    }\n  });\n}\n;\nexport function isValidToken(token) {\n  return axios.post(URL.POST_VERIFICATION, {\n    headers: {\n      'access-token': token\n    }\n  }).then(detailsRecives => {\n    if (detailsRecives.status === 200) {\n      dispatcher.dispatch({\n        type: actionTypes.LOGIN,\n        data: detailsRecives.data\n      });\n    } else {\n      console.log(detailsRecives);\n      dispatcher.dispatch({\n        type: actionTypes.ERROR,\n        data: detailsRecives.data\n      });\n    }\n  });\n} // }","map":{"version":3,"sources":["/Users/gabrielpenalva/Documents/Skylab Hired/gabriel-penalva-skylab-hired/Client/skylab-hired/src/actions/userActions.js"],"names":["axios","dispatcher","actionTypes","URL","loadDetails","token","global","sessionStorage","getItem","get","GET_ENTRIES","headers","then","detailsRecives","console","log","status","dispatch","type","LOAD_DETAIL","data","ERROR","error","loginActions","username","password","post","POST_LOGIN","setItem","LOGIN","isValidToken","POST_VERIFICATION"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport dispatcher from '../dispatcher/app.dispatcher';\nimport actionTypes from './actionTypes';\nimport URL from './urlConfig'\n\n\n// export function loadDetails() {\n\n//     return axios.get('http://localhost:4200/api/detail').then((detail) => {\n//         dispatcher.dispatch({\n//             type: actionTypes.LOAD_DETAIL,\n//             data: detail.data\n//         });\n//     });\n// }\n\n// eslint-disable-next-line import/prefer-default-export\nexport function loadDetails() {\n\n    const token = global.sessionStorage.getItem('access-token')\n    try {\n        axios.get(URL.GET_ENTRIES, { headers: { 'access-token': token } }).then((detailsRecives) => {\n            console.log(detailsRecives)\n            if (detailsRecives.status === 200) {\n                dispatcher.dispatch({\n                    type: actionTypes.LOAD_DETAIL,\n                    data: detailsRecives.data\n                })\n            }\n            else {\n\n                dispatcher.dispatch({\n                    type: actionTypes.ERROR,\n                    data: detailsRecives.data\n                })\n            }\n\n        })\n    } catch (error) { console.log(error) }\n}\n\n\nexport function loginActions(username, password) {\n\n    return axios.post(URL.POST_LOGIN, { username, password }).then((detailsRecives) => {\n\n        if (detailsRecives.status === 200) {\n            global.sessionStorage.setItem('access-token', detailsRecives.data.token)\n            dispatcher.dispatch({\n                type: actionTypes.LOGIN,\n                data: detailsRecives.data\n            })\n        }\n        else {\n            console.log(detailsRecives)\n            dispatcher.dispatch({\n                type: actionTypes.ERROR,\n                data: detailsRecives.data\n            })\n        }\n    })\n\n};\n\nexport function isValidToken(token) {\n    return axios.post(URL.POST_VERIFICATION, { headers: { 'access-token': token } }).then((detailsRecives) => {\n        if (detailsRecives.status === 200) {\n            dispatcher.dispatch({\n                type: actionTypes.LOGIN,\n                data: detailsRecives.data\n            })\n        }\n        else {\n            console.log(detailsRecives)\n            dispatcher.dispatch({\n                type: actionTypes.ERROR,\n                data: detailsRecives.data\n            })\n        }\n    })\n}\n// }\n"]},"metadata":{},"sourceType":"module"}